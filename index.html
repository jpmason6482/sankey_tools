<html lang="en-US"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1">
  <title>SankeyMATIC: Build a Sankey Diagram</title>
  <link rel="stylesheet" href="build.css">
  <script defer="" src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js" crossorigin="anonymous"></script>
  <script defer="" src="https://cdn.jsdelivr.net/npm/canvg@3/lib/umd.js" crossorigin="anonymous"></script>
  <script defer="" src="constants.js"></script>
  <script defer="" src="sankey.js"></script>
  <script defer="" src="lz-string.min.js"></script>
  <script defer="" src="sankeymatic.js"></script>
  <meta name="description" content="Make beautiful Sankey diagrams. Export them as images or SVG with this free data visualization tool.">
  <meta property="og:title" content="SankeyMATIC: Build a Sankey Diagram">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://sankeymatic.com/build/">
  <meta property="og:description" content="Make beautiful flow diagrams. Export them as images or SVG.">
  <meta property="og:site_name" content="SankeyMATIC.com">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://sankeymatic.com/build/i/2024-01-04-card-image.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="2700">
  <meta property="og:image:height" content="1350">
  <meta property="og:image:alt" content="Screenshot of the SankeyMATIC diagram-building interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@SankeyMATIC">
  <meta name="twitter:creator" content="@nowthis">
  </head>
  <body>
  
  
  
  <main>
  <div id="example_diagrams" class="text_center">
  <h4>Sample Diagrams &amp; Starting Points:
  <button type="button" id="load_example_simple" onclick="replaceGraph('simple_start'); return false;">Start Simple</button>
  <button type="button" id="load_example_financial_results" onclick="replaceGraph('financial_results'); return false;">Financial Results</button>
  <button type="button" id="load_example_job_search" onclick="replaceGraph('job_search'); return false;">Job Search</button>
  <button type="button" id="load_example_election" onclick="replaceGraph('election'); return false;">Ranked Election</button>
  <!-- <button type="button" id="load_example_energy_all" onclick="replaceGraph('energy_flows_all'); return false;">Energy Flows</button> &nbsp; -->
  <button type="button" id="load_example_journey" onclick="replaceGraph('journey'); return false;">Journey</button>
  <button type="button" id="load_example_basic_budget" onclick="replaceGraph('default_budget'); return false;">Budget</button>
  </h4>
  
  <p id="replace_graph_warning" style="display: none;">
  <em>This will <strong>erase</strong> your changes. Are you sure?</em><br>
  <input type="hidden" id="demo_graph_chosen" value="">
  <button type="button" id="replace_graph_yes" onclick="replaceGraphConfirmed(); return false;">Yes, replace the diagram</button>
  <button type="button" id="replace_graph_no" onclick="hideReplaceGraphWarning(); return false;">Cancel</button>
  </p>
  </div>
  
  <div class="center_basic">
  <form id="skm_form" onsubmit="process_sankey(); return false;">
  
  <table><tbody><tr><td>
  
  <table class="center_basic">
  <tbody><tr>
      <td id="other_entry">
  
  <h2 class="ui_head" onclick="togglePanel('input_options');">
  <span id="input_options_indicator" class="indicator">–</span>
  Inputs<span id="input_options_hint">:</span></h2>
  
  <div id="input_options" class="text_center grid_sidebar_right">
  <div>
      <textarea id="flows_in" title="Diagram Inputs" rows="19" cols="40" class="font_sans" onchange="process_sankey();" onkeyup="debounced_process_sankey();">// Enter Flows between Nodes, like this:
  //         Source [AMOUNT] Target
  
  Wages [1500] Budget
  Other [250] Budget
  
  Budget [450] Taxes
  Budget [420] Housing
  Budget [400] Food
  Budget [295] Transportation
  Budget [25] Savings
  
  // You can set a Node's color, like this:
  :Budget #708090
  //            ...or a color for a single Flow:
  Budget [160] Other Necessities #0F0
  
  // Use the controls below to customize
  // your diagram's appearance...</textarea>
  </div>
  
  <div class="separated_stack">
  
  <div class="top_center_self"><button id="preview_graph" type="submit">Show &gt;</button></div>
  
  <div class="bottom_center_self">
  <button id="save_my_work_button" type="submit" class="loadsave_button" onclick="saveDiagramToFile(); return false;" title="Save the current diagram and settings to a local text file">Save my<br>work <strong>↘</strong></button>
  
  <p>
  <input type="file" id="load_diagram_from_file" accept=".txt,.text,.skm,text/plain" class="hidden_under" onchange="loadDiagramFile(); return null;">
  <label id="load_diagram_button" for="load_diagram_from_file" role="button" class="label_as_button loadsave_button" title="Load a diagram definition from a text file"><strong>↖</strong> Load<br>from file</label></p>
  
  </div>
  </div>
  
  <p class="form_elements3 grid_entire_row">
  <strong>Arrange the diagram:</strong><br>
  <span><input name="layout_order" id="layout_order_automatic" value="automatic" type="radio" onchange="process_sankey();" checked="checked"><label for="layout_order_automatic" class="ropt">Automatically</label></span>
  <span><input name="layout_order" id="layout_order_exact" value="exact" type="radio" onchange="process_sankey();" class="spaced_checkbox"><label for="layout_order_exact" class="ropt">Using the exact input order</label></span>
  </p>
  </div>
  
  <!-- LABELS -->
  
  <datalist id="tick100"><option value="100"></option></datalist>
  <datalist id="tick400"><option value="400"></option></datalist>
  <datalist id="tick-align">
  <option value="-1">Before</option>
  <option value="0">Centered</option>
  <option value="1">After</option>
  </datalist>
  <datalist id="tick-stages">
  <option value="2"></option><option value="3"></option>
  <option value="4"></option><option value="5"></option>
  <option value="6"></option><option value="7"></option>
  <option value="8"></option><option value="9"></option>
  <option value="10"></option><option value="11"></option>
  <option value="12"></option><option value="13"></option>
  <option value="14"></option><option value="15"></option>
  </datalist>
  
  <h2 class="ui_head" onclick="togglePanel('label_options');">
  <span id="label_options_indicator" class="indicator">+</span>
  Labels<span id="label_options_hint">...</span></h2>
  
  <div id="label_options" class="form_chunk" style="display: none;">
  
  <div class="vs b-pad indented">
  
  <div class="hs align-baseline gap-medium">
  <span><input type="checkbox" id="labelname_appears" value="1" onchange="process_sankey();" checked="checked">
  <label for="labelname_appears" class="ropt">Show <strong>Names</strong></label></span>
  
  <span class="no_wrap" onmouseover="revealVal('labelname_weight');" onmouseout="fadeVal('labelname_weight');"><label for="labelname_weight" class="sr-only">Style for Node Names</label>
  <span class="smalllabel font_light">Light</span><span class="output_container"><input id="labelname_weight" class="slider_xsmall" type="range" min="100" max="700" step="300" value="400" list="tick400" onfocus="revealVal('labelname_weight');" onblur="fadeVal('labelname_weight');" oninput="updateOutput('labelname_weight'); process_sankey();" onchange="process_sankey();"><output id="labelname_weight_val" for="labelname_weight" class="fade-init output_6">-</output></span><span class="smalllabel font_bolder">Bold</span></span>
  </div>
  
  <div class="hs align-baseline gap-medium">
  <span><input type="checkbox" id="labelvalue_appears" value="1" onchange="process_sankey();" checked="checked">
  <label for="labelvalue_appears" class="ropt">Show <strong>Values</strong></label></span>
  
  <span class="no_wrap" onmouseover="revealVal('labelvalue_weight');" onmouseout="fadeVal('labelvalue_weight');"><label for="labelvalue_weight" class="sr-only">Style for Node Values</label>
  <span class="smalllabel font_light">Light</span><span class="output_container"><input id="labelvalue_weight" class="slider_xsmall" type="range" min="100" max="700" step="300" value="400" list="tick400" onfocus="revealVal('labelvalue_weight');" onblur="fadeVal('labelvalue_weight');" oninput="updateOutput('labelvalue_weight'); process_sankey();" onchange="process_sankey();"><output id="labelvalue_weight_val" for="labelvalue_weight" class="fade-init output_6">-</output></span><span class="smalllabel font_bolder">Bold</span></span>
  </div>
  </div>
  
  <div class="hs gap-medium indented align-baseline b-pad">
  <span>
  <strong>Font:</strong>
  <span class="no_wrap"><input name="labels_fontface" type="radio" id="sans_serif" value="sans-serif" checked="checked" onchange="process_sankey();"><label for="sans_serif" class="ropt font_sans">sans</label></span>
  <span class="no_wrap"><input name="labels_fontface" type="radio" id="serif" value="serif" onchange="process_sankey();"><label for="serif" class="ropt font_serif">serif</label></span>
  <span class="no_wrap"><input name="labels_fontface" type="radio" id="monospace" value="monospace" onchange="process_sankey();"><label for="monospace" class="ropt font_mono">mono</label></span>
  </span>
  <span><label for="labels_color"><strong>Color:</strong></label> <input type="color" id="labels_color" size="7" maxlength="7" value="#000000" onchange="process_sankey();"></span>
  </div>
  
  <details open=""><summary><strong>Sizes</strong></summary>
  <div class="vs gap-small align-center">
  <div class="hs align-center justify-center gap-large b-divider">
  <div class="vs align-center">
  <label for="labelname_size"><strong>Base Size:</strong></label>
  <input id="labelname_size" type="number" class="number_100s" min="6" step="0.5" value="16" onchange="process_sankey();"></div>
  
  <div class="vs align-center text_center" onmouseover="revealVal('labels_relativesize');" onmouseout="fadeVal('labels_relativesize');">
  <label for="labels_relativesize" title="Set relative size of Names and Values">Magnify:</label>
  <div class="hs align-center gap-small no_wrap">
      <div class="align-center"><strong>Names</strong></div>
      <span class="output_container"><input id="labels_relativesize" class="slider_small" type="range" min="50" max="150" value="110" list="tick100" onfocus="revealVal('labels_relativesize');" onblur="fadeVal('labels_relativesize');" oninput="updateOutput('labels_relativesize'); process_sankey();" onchange="process_sankey();"><output id="labels_relativesize_val" for="labels_relativesize" class="fade-init output_12">-</output></span>
      <div class="align-center"><strong>Values</strong></div>
  </div>
  </div>
  </div>
  
  <div class="vs align-center justify-center text_center b-divider" onmouseover="revealVal('labels_magnify');" onmouseout="fadeVal('labels_magnify');">
      <label for="labels_magnify">Show larger labels for:</label>
      <div class="hs justify-center gap-small no_wrap">
          <div class="align-center"><strong>Small</strong><br>Amounts</div>
          <span class="output_container"><input id="labels_magnify" class="slider_medium" type="range" min="50" max="150" value="100" list="tick100" onfocus="revealVal('labels_magnify');" onblur="fadeVal('labels_magnify');" oninput="updateOutput('labels_magnify'); process_sankey();" onchange="process_sankey();"><output id="labels_magnify_val" for="labels_magnify" class="fade-init output_12">-</output></span>
          <div class="align-center"><strong>Large</strong><br>Amounts</div>
      </div>
  </div>
  
  <div class="hs gap-small" onmouseover="revealVal('labels_linespacing');" onmouseout="fadeVal('labels_linespacing');">
  <label for="labels_linespacing" id="spacing_fld_label"><strong>Line Spacing:</strong></label>
  <span class="nowrap">
  <span class="smalllabel">Min</span>
  <span class="output_container"><input id="labels_linespacing" class="slider_medium" type="range" min="0.0" max="1.0" step="0.05" value="0.2" onfocus="revealVal('labels_linespacing');" onblur="fadeVal('labels_linespacing');" oninput="updateOutput('labels_linespacing'); process_sankey();" onchange="process_sankey();"><output id="labels_linespacing_val" for="labels_linespacing" class="fade-init output_3">-</output></span>
  <span class="smalllabel">Max</span>
  </span>
  </div>
  <div class="text_center">Add line breaks inside labels using <code>\n</code></div>
  </div>
  </details><!-- End Sizes -->
  
  <details><summary><strong>Placement</strong></summary>
  <div>
  <div class="vs align-center">
  <div class="vs gap-small">
  <fieldset class="simple">
  <span class="no_wrap"><input name="labelposition_scheme" type="radio" id="label_scheme_auto" value="auto" onchange="process_sankey();" checked="checked"><label for="label_scheme_auto" class="ropt"><strong>Automatic</strong></label></span>
  <div class="hs align-center justify-center gap-small l-pad">
  <div class="indented l-pad" style="max-width: 20em;">
  When a Node has an <strong>empty side</strong>, place its label there.
  
  <div class="vs align-center justify-center text_center" onmouseover="revealVal('labelposition_autoalign');" onmouseout="fadeVal('labelposition_autoalign');">
  <label for="labelposition_autoalign" style="line-height: 2;">When neither side is empty, place labels:</label>
  <div class="hs align-center justify-center gap-small">
  <div class="align-center no_wrap"><strong>Before</strong><br>the Node</div>
  <span class="output_container"><input id="labelposition_autoalign" class="slider_medium" type="range" min="-1" max="1" step="1" value="0" onfocus="revealVal('labelposition_autoalign');" onblur="fadeVal('labelposition_autoalign');" oninput="updateOutput('labelposition_autoalign'); checkRadio('label_scheme_auto'); process_sankey();" onchange="checkRadio('label_scheme_auto'); process_sankey();" list="tick-align"><output id="labelposition_autoalign_val" for="labelposition_autoalign" class="fade-init output_6">-</output></span>
  <div class="align-center no_wrap"><strong>After</strong><br>the Node</div>
  </div>
  </div>
  
  </div>
  </div>
  </fieldset>
  <fieldset class="simple">
  <span class="no_wrap"><input name="labelposition_scheme" type="radio" id="label_scheme_perstage" value="per_stage" onchange="process_sankey();"><label for="label_scheme_perstage" class="ropt"><strong>Per Stage</strong></label></span>
  
  <div class="hs align-center justify-center gap-small t-pad b-divider">
  <span class="text_right">Place labels for<br> the <strong>first stage</strong>:</span>
  <div class="vs">
  <span class="no_wrap"><input name="labelposition_first" type="radio" id="label_first_before" value="before" onchange="checkRadio('label_scheme_perstage'); process_sankey();" checked="checked"><label for="label_first_before" class="ropt">Before the Nodes</label></span>
  
  <span class="no_wrap"><input name="labelposition_first" type="radio" id="label_first_after" value="after" onchange="checkRadio('label_scheme_perstage'); process_sankey();"><label for="label_first_after" class="ropt">After the Nodes</label></span>
  </div>
  </div>
  
  <div class="vs align-center justify-center text_center" onmouseover="revealVal('labelposition_breakpoint');" onmouseout="fadeVal('labelposition_breakpoint');">
  <label for="labelposition_breakpoint" style="line-height: 2;">Place labels on the <strong>opposite side</strong> starting at:</label>
  <div class="hs align-center justify-center gap-small">
  <span class="no_wrap">Stage <strong>2</strong></span><span class="output_container"><input id="labelposition_breakpoint" class="slider_medium" type="range" min="2" max="4" step="1" value="4" onfocus="revealVal('labelposition_breakpoint');" onblur="fadeVal('labelposition_breakpoint');" oninput="updateOutput('labelposition_breakpoint'); checkRadio('label_scheme_perstage'); process_sankey();" onchange="checkRadio('label_scheme_perstage'); process_sankey();" list="tick-stages"><output id="labelposition_breakpoint_val" for="labelposition_breakpoint" class="fade-init output_12">-</output></span><span>(Never)</span>
  </div>
  </div>
  </fieldset>
  </div>
  </div>
  </div>
  </details> <!-- End Placement -->
  
  <details><summary><strong>Arrange Names &amp; Values</strong></summary>
  <div class="vs justify-center align-center gap-small">
  <div class="hs justify-center align-center gap-small b-pad">
  
  <div class="hs align-center gap-small">
  <div class="vs gap-small">
  <div class="hs align-center">
  <input name="labelvalue_position" type="radio" id="labelvalue_after" value="after" onchange="process_sankey();"><label for="labelvalue_after" class="ropt rrect arr-option">Examples:&nbsp;100</label>
  </div>
  <div class="hs align-center">
  <input name="labelvalue_position" type="radio" id="labelvalue_below" value="below" onchange="process_sankey();" checked="checked"><label for="labelvalue_below" class="ropt rrect arr-option">Examples<br>100</label>
  </div>
  </div>
  <div class="vs gap-small">
  <div class="hs align-center">
  <input name="labelvalue_position" type="radio" id="labelvalue_before" value="before" onchange="process_sankey();"><label for="labelvalue_before" class="ropt rrect arr-option">100&nbsp;Examples</label>
  </div>
  <div class="hs align-center">
  <input name="labelvalue_position" type="radio" id="labelvalue_above" value="above" onchange="process_sankey();"><label for="labelvalue_above" class="ropt rrect arr-option">100<br>Examples</label>
  </div>
  </div>
  </div>
  </div>
  
  <div class="hs gap-medium space-around align-center bg-darker pad-medium" onmouseover="revealVal('labels_highlight');" onmouseout="fadeVal('labels_highlight');">
  <label for="labels_highlight" class="highlight_fld_label"><strong>Highlights:</strong></label>
  <div><span class="smalllabel">0</span><span class="output_container"><input id="labels_highlight" class="slider_small" type="range" min="0" max="0.9" step="0.05" value="0.75" onfocus="revealVal('labels_highlight');" onblur="fadeVal('labels_highlight');" oninput="updateOutput('labels_highlight'); process_sankey();" onchange="process_sankey();"><output id="labels_highlight_val" for="labels_highlight" class="fade-init output_3">-</output></span><span class="smalllabel highlight_fld_label">Max</span>
  </div>
  </div>
  
  <span><input type="checkbox" id="labels_hide" value="1" onchange="process_sankey();"><label for="labels_hide" class="ropt">Temporarily Hide Labels</label></span>
  </div>
  </details> <!-- End Arrange Names & Values -->
  
  <details><summary><strong>Number Format</strong></summary>
  <div class="hs align-center gap-small space-around">
  <div class="vs gap-small">
  <span><label for="value_prefix">Prefix:</label> <input type="text" id="value_prefix" size="4" maxlength="10" onchange="process_sankey();"></span>
  <span><label for="value_suffix">Suffix:</label> <input type="text" id="value_suffix" size="4" maxlength="10" onchange="process_sankey();"></span>
  </div>
  
  <div class="text_center">
  <label for="value_format">Format:</label>
  <select id="value_format" onchange="process_sankey();">
  <option value=",." selected="selected">1,000,000.00</option>
  <option value=".,">1.000.000,00</option>
  <option value=" .">1 000 000.00</option>
  <option value=" ,">1 000 000,00</option>
  <option value="X.">1000000.00</option>
  <option value="X,">1000000,00</option>
  </select>
  <br>
  <span><input type="checkbox" id="labelvalue_fullprecision" value="1" onchange="process_sankey();" checked="checked">
  <label for="labelvalue_fullprecision" class="ropt">Show trailing 0s <small>(best for currency)</small></label></span>
  </div>
  </div>
  </details> <!-- End Number Format -->
  </div> <!-- End LABELS -->
  
  <!-- NODES -->
  
  <h2 class="ui_head" onclick="togglePanel('node_options');">
  <span id="node_options_indicator" class="indicator">–</span>
  Nodes<span id="node_options_hint">:</span></h2>
  <!-- tabindex="0" -->
  <div id="node_options" class="form_chunk">
  <p class="form_elements1">
  <span class="no_wrap" onmouseover="revealVal('node_h');" onmouseout="fadeVal('node_h');">
  <label for="node_h"><strong>Height:</strong></label>
  .<span class="output_container"><input id="node_h" class="slider_small" type="range" min="0" max="100" step="0.5" value="50" onfocus="revealVal('node_h');" onblur="fadeVal('node_h');" oninput="updateOutput('node_h'); process_sankey();" onchange="process_sankey();"><output id="node_h_val" for="node_h" class="fade-init output_6">-</output></span>|</span>
  
  
  <span class="no_wrap" onmouseover="revealVal('node_spacing');" onmouseout="fadeVal('node_spacing');">
  <label for="node_spacing" class="spaced_label"><strong>Spacing:</strong></label>
  <span class="smalllabel">0</span><span class="output_container"><input id="node_spacing" class="slider_small" type="range" min="0" max="100" step="0.5" value="75" onfocus="revealVal('node_spacing');" onblur="fadeVal('node_spacing');" oninput="updateOutput('node_spacing'); process_sankey();" onchange="process_sankey();"><output id="node_spacing_val" for="node_spacing" class="fade-init output_6">-</output></span><span class="smalllabel">Max</span></span>
  </p>
  
  <p class="form_elements2">
  <span class="no_wrap"><label for="node_w"><strong>Width:</strong></label>
  <input id="node_w" type="number" class="number_100s" min="0" value="12" step="1" onchange="process_sankey();"></span>
  
  <span class="no_wrap"><label for="node_border" class="spaced_label"><strong>Border:</strong></label>
  <input id="node_border" type="number" class="number_10s" min="0" value="0" step="1" onchange="process_sankey();"></span>
  
  <span class="no_wrap" onmouseover="revealVal('node_opacity');" onmouseout="fadeVal('node_opacity');">
  <label for="node_opacity" class="spaced_label"><strong>Opacity:</strong></label>
  <span class="smalllabel">0</span><span class="output_container"><input id="node_opacity" class="slider_xxsmall" type="range" min="0" max="1" step="0.05" value="1.0" onfocus="revealVal('node_opacity');" onblur="fadeVal('node_opacity');" oninput="updateOutput('node_opacity'); process_sankey();" onchange="process_sankey();"><output id="node_opacity_val" for="node_opacity" class="fade-init output_3">-</output></span><span class="smalllabel">1</span></span>
  </p>
  
  <fieldset class="form_elements1">
  <legend>Default Node Colors</legend>
  <div class="fieldset_contents">
  Use <input name="node_theme" type="radio" id="node_theme_none" value="none" onchange="process_sankey();"><label for="node_theme_none" class="ropt">one color:</label>
  <input type="color" id="node_color" title="Single Node Color" size="7" maxlength="7" value="#888888" onchange="checkRadio('node_theme_none'); process_sankey();"> or a Theme:<br>
  <table id="color_themes">
  <tbody><tr>
  <td>
  <span id="theme_a" class="theme_container">
  <input name="node_theme" type="radio" id="theme_a_radio" value="a" onchange="process_sankey();" checked="checked"><label id="theme_a_label" for="theme_a_radio" class="ropt">Categories</label>
  </span>
  </td>
  <td>
  <span class="no_wrap">
  <button id="theme_a_rotate_left" type="submit" title="Rotate theme colors left" onclick="nudgeColorTheme('a',1); return false;">&lt;</button>
  <span id="theme_a_guide"><span style="background-color: #17becf;" class="color_sample_10" title="#17becf from d3 color scheme Category10">&nbsp;</span><span style="background-color: #1f77b4;" class="color_sample_10" title="#1f77b4 from d3 color scheme Category10">&nbsp;</span><span style="background-color: #ff7f0e;" class="color_sample_10" title="#ff7f0e from d3 color scheme Category10">&nbsp;</span><span style="background-color: #2ca02c;" class="color_sample_10" title="#2ca02c from d3 color scheme Category10">&nbsp;</span><span style="background-color: #d62728;" class="color_sample_10" title="#d62728 from d3 color scheme Category10">&nbsp;</span><span style="background-color: #9467bd;" class="color_sample_10" title="#9467bd from d3 color scheme Category10">&nbsp;</span><span style="background-color: #8c564b;" class="color_sample_10" title="#8c564b from d3 color scheme Category10">&nbsp;</span><span style="background-color: #e377c2;" class="color_sample_10" title="#e377c2 from d3 color scheme Category10">&nbsp;</span><span style="background-color: #7f7f7f;" class="color_sample_10" title="#7f7f7f from d3 color scheme Category10">&nbsp;</span><span style="background-color: #bcbd22;" class="color_sample_10" title="#bcbd22 from d3 color scheme Category10">&nbsp;</span></span><input type="hidden" id="themeoffset_a" value="9">
  <button id="theme_a_rotate_right" type="submit" title="Rotate theme colors right" onclick="nudgeColorTheme('a',-1); return false;">&gt;</button>
  </span>
  </td>
  </tr>
  <tr>
  <td>
  <span id="theme_b" class="theme_container">
  <input name="node_theme" type="radio" id="theme_b_radio" value="b" onchange="process_sankey();"><label id="theme_b_label" for="theme_b_radio" class="ropt">Tableau10</label>
  </span>
  </td>
  <td>
  <span class="no_wrap">
  <button id="theme_b_rotate_left" type="submit" title="Rotate theme colors left" onclick="nudgeColorTheme('b',1); return false;">&lt;</button>
  <span id="theme_b_guide"><span style="background-color: #4e79a7;" class="color_sample_10" title="#4e79a7 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #f28e2c;" class="color_sample_10" title="#f28e2c from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #e15759;" class="color_sample_10" title="#e15759 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #76b7b2;" class="color_sample_10" title="#76b7b2 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #59a14f;" class="color_sample_10" title="#59a14f from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #edc949;" class="color_sample_10" title="#edc949 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #af7aa1;" class="color_sample_10" title="#af7aa1 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #ff9da7;" class="color_sample_10" title="#ff9da7 from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #9c755f;" class="color_sample_10" title="#9c755f from d3 color scheme Tableau10">&nbsp;</span><span style="background-color: #bab0ab;" class="color_sample_10" title="#bab0ab from d3 color scheme Tableau10">&nbsp;</span></span><input type="hidden" id="themeoffset_b" value="0">
  <button id="theme_b_rotate_right" type="submit" title="Rotate theme colors right" onclick="nudgeColorTheme('b',-1); return false;">&gt;</button>
  </span>
  </td>
  </tr>
  <tr>
  <td>
  <span id="theme_c" class="theme_container">
  <input name="node_theme" type="radio" id="theme_c_radio" value="c" onchange="process_sankey();"><label id="theme_c_label" for="theme_c_radio" class="ropt">Dark</label>
  </span>
  </td>
  <td>
  <span class="no_wrap">
  <button id="theme_c_rotate_left" type="submit" title="Rotate theme colors left" onclick="nudgeColorTheme('c',1); return false;">&lt;</button>
  <span id="theme_c_guide"><span style="background-color: #1b9e77;" class="color_sample_8" title="#1b9e77 from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #d95f02;" class="color_sample_8" title="#d95f02 from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #7570b3;" class="color_sample_8" title="#7570b3 from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #e7298a;" class="color_sample_8" title="#e7298a from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #66a61e;" class="color_sample_8" title="#66a61e from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #e6ab02;" class="color_sample_8" title="#e6ab02 from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #a6761d;" class="color_sample_8" title="#a6761d from d3 color scheme Dark2">&nbsp;</span><span style="background-color: #666666;" class="color_sample_8" title="#666666 from d3 color scheme Dark2">&nbsp;</span></span><input type="hidden" id="themeoffset_c" value="0">
  <button id="theme_c_rotate_right" type="submit" title="Rotate theme colors right" onclick="nudgeColorTheme('c',-1); return false;">&gt;</button>
  </span>
  </td>
  </tr>
  <tr>
  <td>
  <span id="theme_d" class="theme_container">
  <input name="node_theme" type="radio" id="theme_d_radio" value="d" onchange="process_sankey();"><label id="theme_d_label" for="theme_d_radio" class="ropt">Varied</label>
  </span>
  </td>
  <td>
  <span class="no_wrap">
  <button id="theme_d_rotate_left" type="submit" title="Rotate theme colors left" onclick="nudgeColorTheme('d',1); return false;">&lt;</button>
  <span id="theme_d_guide"><span style="background-color: #8dd3c7;" class="color_sample_12" title="#8dd3c7 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #ffffb3;" class="color_sample_12" title="#ffffb3 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #bebada;" class="color_sample_12" title="#bebada from d3 color scheme Set3">&nbsp;</span><span style="background-color: #fb8072;" class="color_sample_12" title="#fb8072 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #80b1d3;" class="color_sample_12" title="#80b1d3 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #fdb462;" class="color_sample_12" title="#fdb462 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #b3de69;" class="color_sample_12" title="#b3de69 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #fccde5;" class="color_sample_12" title="#fccde5 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #d9d9d9;" class="color_sample_12" title="#d9d9d9 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #bc80bd;" class="color_sample_12" title="#bc80bd from d3 color scheme Set3">&nbsp;</span><span style="background-color: #ccebc5;" class="color_sample_12" title="#ccebc5 from d3 color scheme Set3">&nbsp;</span><span style="background-color: #ffed6f;" class="color_sample_12" title="#ffed6f from d3 color scheme Set3">&nbsp;</span></span><input type="hidden" id="themeoffset_d" value="0">
  <button id="theme_d_rotate_right" type="submit" title="Rotate theme colors right" onclick="nudgeColorTheme('d',-1); return false;">&gt;</button>
  </span>
  </td>
  </tr>
  </tbody></table>
  </div>
  
  </fieldset>
  </div> <!-- End NODES -->
  
  <!-- FLOWS -->
  
  <h2 class="ui_head" onclick="togglePanel('flow_options');">
  <span id="flow_options_indicator" class="indicator">–</span>
  Flows<span id="flow_options_hint">:</span></h2>
  
  <div id="flow_options" class="form_chunk">
  <p class="form_elements1">
  <span class="no_wrap" onmouseover="revealVal('flow_opacity');" onmouseout="fadeVal('flow_opacity');">
  <label for="flow_opacity"><strong>Opacity:</strong></label>
  <span class="smalllabel">0</span><span class="output_container"><input id="flow_opacity" class="slider_xsmall" type="range" min="0" max="1" step="0.05" value="0.45" onfocus="revealVal('flow_opacity');" onblur="fadeVal('flow_opacity');" oninput="updateOutput('flow_opacity'); process_sankey();" onchange="process_sankey();"><output id="flow_opacity_val" for="flow_opacity" class="output_3 fade-out">0.45</output></span><span class="smalllabel">1</span></span>
  
  <span class="no_wrap" onmouseover="revealVal('flow_curvature');" onmouseout="fadeVal('flow_curvature');">
  <label for="flow_curvature" class="spaced_label"><strong>Curviness:</strong></label>&nbsp;
  |<span class="output_container"><input id="flow_curvature" class="slider_small" type="range" min="0.1" max="0.9" step="0.04" value="0.5" onfocus="revealVal('flow_curvature');" onblur="fadeVal('flow_curvature');" oninput="updateOutput('flow_curvature'); process_sankey();" onchange="process_sankey();"><output id="flow_curvature_val" for="flow_curvature" class="fade-init output_3">-</output></span>(</span>
  </p>
  
  <fieldset class="form_elements2">
  <legend>Default Flow Colors</legend>
  
  <div class="fieldset_contents">
  
  Use <input name="flow_inheritfrom" type="radio" id="flow_inherit_none" value="none" onchange="process_sankey();"><label for="flow_inherit_none" class="ropt">one color:</label>
  
  <input type="color" id="flow_color" title="Single Flow Color" size="7" maxlength="7" value="#999999" onchange="checkRadio('flow_inherit_none'); process_sankey();"> or colors from:<br>
  <span class="no_wrap"><input name="flow_inheritfrom" type="radio" id="flow_inherit_from_source" value="source" onchange="process_sankey();"><label class="ropt" for="flow_inherit_from_source">each flow's Source</label></span>
  <span class="no_wrap"><input name="flow_inheritfrom" type="radio" id="flow_inherit_from_target" value="target" onchange="process_sankey();"><label class="ropt" for="flow_inherit_from_target">each flow's Target</label></span>
  <br>
  <span class="no_wrap"><input name="flow_inheritfrom" type="radio" id="flow_inherit_outside_in" value="outside-in" onchange="process_sankey();" checked="checked"><label class="ropt" for="flow_inherit_outside_in">the outermost nodes (flowing in)</label></span>
  </div>
  </fieldset>
  </div> <!-- End FLOWS -->
  
  <!-- LAYOUT OPTIONS -->
  
  <h2 class="ui_head" onclick="togglePanel('layout_options');" id="layout_options_section">
  <span id="layout_options_indicator" class="indicator">+</span>
  Layout Options<span id="layout_options_hint">...</span></h2>
  <div id="layout_options" class="form_chunk" style="display: none;">
  <div class="form_elements1 text_center">
  <small>Note: these options only apply to diagrams<br> with 3 or more columns of nodes:</small>
  
  <table style="width: 100%;"><tbody><tr>
  <td>
  <input type="checkbox" id="layout_justifyorigins" value="1" onchange="process_sankey();"><br>
  <label for="layout_justifyorigins" class="ropt">Place all<br> flow <strong>origins</strong><br> at the <strong>left</strong> edge</label>
  </td>
  <td class="text_right">
  <input type="checkbox" id="layout_justifyends" value="1" onchange="process_sankey();"><br>
  <label for="layout_justifyends" class="spaced_label ropt">Place all<br> flow <strong>endpoints</strong><br> at the <strong>right</strong> edge</label>
  </td>
  </tr></tbody></table>
  </div>
  <p class="form_elements2 text_center">
  <input type="checkbox" id="layout_reversegraph" value="1" onchange="process_sankey();">
  <label for="layout_reversegraph" class="ropt"><strong>Reverse the graph</strong> (flow right-to-left)</label>
  </p>
  
  <p class="form_elements1 text_center">
  <strong>Diagram Scale</strong> = <span id="scale_figures"><strong>6.1620</strong> per pixel (1,750/284.0px)</span><br>
  For fair comparisons <em>between</em> diagrams:<br>
  1) Use the same units for each, and 2) Make their<br>
  Diagram Scales match as closely as possible.
  </p>
  
  <h3 class="ui_head" onclick="togglePanel('debug_options');"><span id="debug_options_indicator" class="indicator">+</span>Tools for Debugging<span id="debug_options_hint">...</span></h3>
  <div id="debug_options" class="form_chunk" style="display: none;">
  <div class="form_elements1">
    <span class="no_wrap" onmouseover="revealVal('internal_iterations');" onmouseout="fadeVal('internal_iterations');">
      <label for="internal_iterations" class="spaced_label"><strong># of Layout Iterations:</strong></label>
      <span class="smalllabel">0</span>
      <span class="output_container"><input id="internal_iterations" class="slider_small" type="range" min="0" max="30" step="1" value="25" onfocus="revealVal('internal_iterations');" onblur="fadeVal('internal_iterations');" oninput="updateOutput('internal_iterations'); process_sankey();" onchange="process_sankey();"><output id="internal_iterations_val" for="internal_iterations" class="fade-init output_3">-</output></span>
      <span class="smalllabel">30</span>
      </span>
  </div>
  <div class="form_elements2">
  <input type="checkbox" id="internal_revealshadows" value="1" onchange="process_sankey();" class="spaced_checkbox"><label for="internal_revealshadows" class="ropt">Reveal Shadow Nodes</label>
  </div>
  
  </div>
  
  </div> <!-- End LAYOUT -->
  
  </td>
  </tr>
  </tbody></table> <!-- End Left Column -->
  
  </td><td id="grapharea">
  <!-- EXPORT -->
  <div class="expandable_box">
  <p id="download_central" class="share-box">
  <strong class="padded-inline">Share:</strong>
  
  <button id="share_button" type="submit" onclick="openGetLinkDialog(); return false;" title="See options for generating a link to this diagram" class="padded-inline"><strong>Get a public link...</strong></button>
  
  <span class="padded-inline">or</span>
  
  <button id="save_as_png_2x" type="submit" title="PNG image file: 1200 x 1200" onclick="saveDiagramAsPNG(2); return false;"><strong>Save as a .PNG image</strong></button>
  <span class="toggleable" onclick="togglePanel('png_size_options');" title="Select to choose another resolution">
  <span id="png_size_options_indicator" class="indicator1">+</span>
  <small>more</small><span id="png_size_options_hint">...</span></span>
  <span id="png_size_options" style="display: none;">
  <button id="save_as_png_4x" type="submit" title="PNG image file: 2400 x 2400" onclick="saveDiagramAsPNG(4); return false;"><strong>Large</strong> (4x)</button>
  <button id="save_as_png_6x" type="submit" title="PNG image file: 3600 x 3600" onclick="saveDiagramAsPNG(6); return false;"><strong>Huge</strong> (6x)</button>
  <button id="save_as_png_1x" type="submit" title="PNG image file: 600 x 600" onclick="saveDiagramAsPNG(1); return false;"><strong>Tiny</strong> (1x)</button>
  </span>
  
  <span class="padded-inline">or</span>
  
  <button id="save_as_svg" type="submit" title="Save this diagram as a Scalable Vector Graphics file" onclick="saveDiagramAsSVG(); return false;"><strong>Download .SVG</strong></button>
  </p>
  <dialog id="getLinkDialog">
    <header>
      <h3>Get a public link to this SankeyMATIC diagram</h3>
      <button onclick="closeDialog('getLink');" id="closeDialogHeader">✕</button>
    </header>
  
    <section class="text_center">
      <div class="center_basic">
      <div class="warning-note">
      <p class="text_left"><strong>Please note:</strong> If your diagram contains <strong>sensitive or private data</strong>, we recommend that you <em><strong>DO NOT USE</strong></em> this public-linking feature to save or share your work.</p>
  <details class="indented">
    <summary><em><u>Learn more...</u></em></summary>
      <p class="text_left">Visiting the link below will potentially expose the data you have entered to <strong>any observer</strong> who can see your Internet traffic, up to and including the SankeyMATIC server itself (which, like all web servers, keeps a record of every visited link).</p>
      <p class="text_left">Instead, you can use the "<strong>Save my work</strong>" and "<strong>Load from file</strong>" buttons to save &amp; reload a diagram in progress <em>without</em> sending a copy of your data beyond your own web browser.</p>
      </details>
      </div>
      </div>
  
      <div class="vspace">
  <p class="text_left"><strong>Your diagram's public link:</strong></p>
  <div id="generatedLink" class="long-link-area text_left" contenteditable="true">(generating link...)</div>
  <div class="hs align-start space-around">
  <p style="max-width: 25em;">Visiting this link will take anyone to the 'Build' interface and fill in the same data and settings you have now.</p>
  <p class="text_center"><button id="copyLinkButton" class="loadsave_button" onclick="copyGeneratedLink(); return false;">⧉ Copy Public Link</button><br><span id="copiedMsg"></span></p>
  </div>
  </div>
    </section>
  
    <footer>
      <button onclick="closeDialog('getLink');" id="closeDialogFooter">Close</button>
    </footer>
  </dialog>
  </div>
  
  <!-- SIZE & SPACING & BACKGROUND -->
  
  <div class="expandable_box">
  <h2 class="ui_head" onclick="togglePanel('diagram_options');">
  <span id="diagram_options_indicator" class="indicator">–</span>
  Diagram Size &amp; Background<span id="diagram_options_hint">:</span></h2>
  
  <div id="diagram_options" class="form_chunk">
  <p class="form_elements1">
  <span class="no_wrap"><label for="size_w" title="Diagram Width in pixels"><strong>Width:</strong></label>
  <input id="size_w" type="number" class="number_10000s" min="40" value="600" step="2" onchange="process_sankey();"></span>
  <span class="no_wrap"><label for="size_h" class="spaced_label" title="Diagram Height in pixels"><strong>Height:</strong></label>
  <input id="size_h" type="number" class="number_10000s" min="40" value="600" step="2" onchange="process_sankey();"></span>
  
  <label for="bg_color" class="spaced_label"><strong>Background Color:</strong></label>
  <input type="color" id="bg_color" size="7" maxlength="7" value="#FFFFFF" onchange="process_sankey();">
  <input type="checkbox" id="bg_transparent" value="1" onchange="process_sankey();" class="spaced_checkbox"><label for="bg_transparent" class="ropt">Transparent</label><br>
  </p>
  
  <p class="form_elements2">
  <strong>Margins:</strong>
  <span class="no_wrap"><label for="margin_l" class="spaced_label">Left</label>
  <input id="margin_l" type="number" class="number_100s" min="0" value="12" step="1" onchange="process_sankey();">
  <label for="margin_r">Right</label>
  <input id="margin_r" type="number" class="number_100s" min="0" value="12" step="1" onchange="process_sankey();"></span>
  <span class="no_wrap"><label for="margin_t" class="spaced_label">Top</label>
  <input id="margin_t" type="number" class="number_100s" min="0" value="18" step="1" onchange="process_sankey();">
  <label for="margin_b">Bot</label>
  <input id="margin_b" type="number" class="number_100s" min="0" value="20" step="1" onchange="process_sankey();"></span>
  </p>
  </div>
  </div>
  
  <!-- MOVING NODES -->
  <p id="reset_moves_area" class="form_elements1">
  Move Nodes by <em>dragging</em>. Double-click a Node to reset, or: <button type="button" id="reset_all_moved_nodes" onclick="resetMovesAndRender(); return false;" disabled="">Reset all moved Nodes</button>
  </p>
  <div id="top_messages_container">
    <div id="info_messages"></div>
    <div id="issue_messages"></div>
  </div>
  
  <p id="chart" style="height: 600px; width: 600px;">
  <svg id="svg_scratch" height="600" width="600" xmlns="http://www.w3.org/2000/svg" class="hidden_under" text-anchor="middle" opacity="0" font-family="sans-serif" font-size="16px"><text id="bb_em" x="300" y="300" font-weight="400" font-size="16px">m</text><text id="bb_ex" x="300" y="300" font-weight="400" font-size="16px">x</text><text id="bb_label0" x="300" y="300" font-weight="400" font-size="14.4px">Wages<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">1,500</tspan></text><text id="bb_label1" x="300" y="300" font-weight="400" font-size="14.4px">Budget<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">1,750</tspan></text><text id="bb_label2" x="300" y="300" font-weight="400" font-size="14.4px">Other<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">250</tspan></text><text id="bb_label3" x="300" y="300" font-weight="400" font-size="14.4px">Taxes<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">450</tspan></text><text id="bb_label4" x="300" y="300" font-weight="400" font-size="14.4px">Housing<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">420</tspan></text><text id="bb_label5" x="300" y="300" font-weight="400" font-size="14.4px">Food<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">400</tspan></text><text id="bb_label6" x="300" y="300" font-weight="400" font-size="14.4px">Transportation<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">295</tspan></text><text id="bb_label7" x="300" y="300" font-weight="400" font-size="14.4px">Savings<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">25</tspan></text><text id="bb_label8" x="300" y="300" font-weight="400" font-size="14.4px">Other Necessities<tspan x="300" dy="19.32" font-weight="400" font-size="17.6px">160</tspan></text></svg>
  <svg id="sankey_svg" height="600" width="600" xmlns="http://www.w3.org/2000/svg" class="svg_background_default"><rect height="600" width="600" fill="#ffffff"></rect><g transform="translate(68.74187,18)"><g id="sankey_flows"><path id="flow0" d="M12 222.112C101.56382 222.112 101.56382 228.06914 191.12764 228.06914" fill="none" stroke-width="243.42857" stroke="#17becf" opacity="0.45"><title>Wages → Budget: 1,500</title></path><path id="flow2" d="M203.12764 142.86914C292.69146 142.86914 292.69146 71.26429 382.25528 71.26429" fill="none" stroke-width="73.02857" stroke="#ff7f0e" opacity="0.45"><title>Budget → Taxes: 450</title></path><path id="flow3" d="M203.12764 213.46343C292.69146 213.46343 292.69146 183.55857 382.25528 183.55857" fill="none" stroke-width="68.16" stroke="#2ca02c" opacity="0.45"><title>Budget → Housing: 420</title></path><path id="flow4" d="M203.12764 280.00057C292.69146 280.00057 292.69146 291.79571 382.25528 291.79571" fill="none" stroke-width="64.91429" stroke="#d62728" opacity="0.45"><title>Budget → Food: 400</title></path><path id="flow5" d="M203.12764 336.39486C292.69146 336.39486 292.69146 389.89 382.25528 389.89" fill="none" stroke-width="47.87429" stroke="#9467bd" opacity="0.45"><title>Budget → Transportation: 295</title></path><path id="flow1" d="M12 405.812C101.56382 405.812 101.56382 370.06914 191.12764 370.06914" fill="none" stroke-width="40.57143" stroke="#1f77b4" opacity="0.45"><title>Other → Budget: 250</title></path><path id="flow7" d="M203.12764 377.372C292.69146 377.372 292.69146 514.26714 382.25528 514.26714" fill="none" stroke-width="25.96571" stroke="#0F0" opacity="0.45"><title>Budget → Other Necessities: 160</title></path><path id="flow6" d="M203.12764 362.36057C292.69146 362.36057 292.69146 457.55571 382.25528 457.55571" fill="none" stroke-width="4.05714" stroke="#8c564b" opacity="0.45"><title>Budget → Savings: 25</title></path></g><g id="sankey_nodes"><g class="node"><rect id="r0" class="for_r0" x="0" y="100.39771" height="243.42857" width="12" fill="#17becf" fill-opacity="1"><title>Wages:
  1,500</title></rect></g><g class="node"><rect id="r1" class="for_r1" x="191.12764" y="106.35486" height="284" width="12" fill="#708090" fill-opacity="1"><title>Budget:
  1,750</title></rect></g><g class="node"><rect id="r2" class="for_r2" x="0" y="385.52629" height="40.57143" width="12" fill="#1f77b4" fill-opacity="1"><title>Other:
  250</title></rect></g><g class="node"><rect id="r3" class="for_r3" x="382.25528" y="34.75" height="73.02857" width="12" fill="#ff7f0e" fill-opacity="1"><title>Taxes:
  450</title></rect></g><g class="node"><rect id="r4" class="for_r4" x="382.25528" y="149.47857" height="68.16" width="12" fill="#2ca02c" fill-opacity="1"><title>Housing:
  420</title></rect></g><g class="node"><rect id="r5" class="for_r5" x="382.25528" y="259.33857" height="64.91429" width="12" fill="#d62728" fill-opacity="1"><title>Food:
  400</title></rect></g><g class="node"><rect id="r6" class="for_r6" x="382.25528" y="365.95286" height="47.87429" width="12" fill="#9467bd" fill-opacity="1"><title>Transportation:
  295</title></rect></g><g class="node"><rect id="r7" class="for_r7" x="382.25528" y="455.52714" height="4.05714" width="12" fill="#8c564b" fill-opacity="1"><title>Savings:
  25</title></rect></g><g class="node"><rect id="r8" class="for_r8" x="382.25528" y="501.28429" height="25.96571" width="12" fill="#1f77b4" fill-opacity="1"><title>Other Necessities:
  160</title></rect></g></g><g id="sankey_labels" font-family="sans-serif" font-size="16px" fill="#000000"><text text-anchor="middle" x="231.25813" y="577" font-size="12px" font-weight="400" fill="#336781">Made at SankeyMATIC.com</text><rect id="label0_bg" class="for_r0" x="-56.6591" y="200.592" width="55.23417" height="42.32001" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label0" class="for_r0" text-anchor="end" x="-6.29754" y="222.112" font-weight="400" font-size="14.4px" dy="-5.52">Wages<tspan x="-6.29754" dy="19.32" font-weight="400" font-size="17.6px">1,500</tspan></text><rect id="label1_bg" class="for_r1" x="169.64248" y="226.83485" width="56.36857" height="42.31999" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label1" class="for_r1" text-anchor="middle" x="197.12764" y="248.35486" font-weight="400" font-size="14.4px" dy="-5.52">Budget<tspan x="197.12764" dy="19.32" font-weight="400" font-size="17.6px">1,750</tspan></text><rect id="label2_bg" class="for_r2" x="-47.37785" y="384.29202" width="46.94827" height="42.31998" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label2" class="for_r2" text-anchor="end" x="-6.29754" y="405.812" font-weight="400" font-size="14.4px" dy="-5.52">Other<tspan x="-6.29754" dy="19.32" font-weight="400" font-size="17.6px">250</tspan></text><rect id="label3_bg" class="for_r3" x="394.88798" y="49.74429" width="48.35453" height="42.31999" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label3" class="for_r3" text-anchor="start" x="400.55282" y="71.26429" font-weight="400" font-size="14.4px" dy="-5.52">Taxes<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">450</tspan></text><rect id="label4_bg" class="for_r4" x="394.88798" y="162.03856" width="63.57328" height="42.32001" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label4" class="for_r4" text-anchor="start" x="400.55282" y="183.55857" font-weight="400" font-size="14.4px" dy="-5.52">Housing<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">420</tspan></text><rect id="label5_bg" class="for_r5" x="394.88798" y="270.27573" width="43.55766" height="42.31998" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label5" class="for_r5" text-anchor="start" x="400.55282" y="291.79571" font-weight="400" font-size="14.4px" dy="-5.52">Food<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">400</tspan></text><rect id="label6_bg" class="for_r6" x="395.88798" y="368.37003" width="102.05766" height="42.31998" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label6" class="for_r6" text-anchor="start" x="400.55282" y="389.89" font-weight="400" font-size="14.4px" dy="-5.52">Transportation<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">295</tspan></text><rect id="label7_bg" class="for_r7" x="395.88798" y="436.03574" width="60.96391" height="42.31998" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label7" class="for_r7" text-anchor="start" x="400.55282" y="457.55571" font-weight="400" font-size="14.4px" dy="-5.52">Savings<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">25</tspan></text><rect id="label8_bg" class="for_r8" x="395.88798" y="492.74716" width="123.37019" height="42.31998" rx="4" fill="#fff" fill-opacity="0.75" stroke="none" stroke-width="0" stroke-opacity="0"></rect><text id="label8" class="for_r8" text-anchor="start" x="400.55282" y="514.26714" font-weight="400" font-size="14.4px" dy="-5.52">Other Necessities<tspan x="400.55282" dy="19.32" font-weight="400" font-size="17.6px">160</tspan></text></g></g></svg>
  </p>
  <canvas id="png_preview" height="600" width="600" style="background-color: transparent; display: none;"></canvas>
  <div id="chartfooter">
  <p class="form_elements1 text_center">
  <input type="checkbox" id="meta_mentionsankeymatic" value="1" onchange="process_sankey();" checked="">
  <label class="smalllabel ropt" for="meta_mentionsankeymatic">Include “Made at SankeyMATIC.com”</label>
  </p>
  </div>
  <table id="messages" class="expandable_box">
  <tbody><tr><td>
    <div id="messages_area">
      <h4>About this diagram</h4>
      <div id="totals_area"><div><strong>8 Flows</strong> between <strong>9 Nodes</strong>. Total Inputs = Total Outputs = <strong>1,750</strong> ✅</div></div>
    </div>
    <div id="console_area" style="display: none;">
      <details><summary>Console</summary>
        <div id="console_lines"></div>
      </details>
    </div>
  </td></tr>
  <tr><td id="imbalances_area" aria-disabled="true">
  <div id="imbalance_control">
  <span class="underline"><strong><em>When Total Inputs ≠ Total Outputs:</em></strong></span><br>
  <p class="form_elements3">
    Attach incomplete flow groups to:<br>
  <span><input name="layout_attachincompletesto" id="layout_attachto_leading" value="leading" type="radio" onchange="process_sankey();" disabled=""><label for="layout_attachto_leading" class="ropt">The leading edge of the Node</label></span><br>
  <span><input name="layout_attachincompletesto" id="layout_attachto_trailing" value="trailing" type="radio" onchange="process_sankey();" disabled=""><label for="layout_attachto_trailing" class="ropt">The trailing edge of the Node</label></span><br>
  <span><input name="layout_attachincompletesto" id="layout_attachto_nearest" value="nearest" type="radio" onchange="process_sankey();" checked="checked" disabled=""><label for="layout_attachto_nearest" class="ropt">The edge nearest to the flow group's center</label></span>
  </p>
  <p class="lastrow">
  <input type="checkbox" id="meta_listimbalances" value="1" onchange="process_sankey();" checked="checked" disabled="">
  <label class="ropt" for="meta_listimbalances">List all imbalanced Nodes</label>
  </p>
  <div id="imbalance_messages"></div>
  </div>
  </td></tr>
  </tbody></table>
  </td></tr></tbody></table> <!-- End SKM Form -->
  </form>
  
  </div>
  <!-- ====================== Bottom Matter ====================== -->
  
  </main>
  
  <hr class="ad_divider">
  <div class="ad_center">
  </div>
  
  
  
  
  
  </body></html>